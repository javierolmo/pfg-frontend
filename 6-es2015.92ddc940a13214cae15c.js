(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{GCp2:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminModule",(function(){return m}));var s=n("ofXK"),o=n("tyNb"),r=n("w+5F"),c=n("AytR"),i=n("fXoL"),a=n("tk/3");let l=(()=>{class t{constructor(t){this.httpClient=t}getLogs(t,e,n){let s=c.a.apiUrl+"/admin/logs?";return void 0!==t&&(s+=`index=${t}&`),void 0!==e&&(s+=`size=${e}&`),void 0!==n&&(s+=`ascendent=${n}&`),this.httpClient.get(s)}}return t.\u0275fac=function(e){return new(e||t)(i.Yb(a.a))},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac}),t})();var b=n("aceb");let d=(()=>{class t{constructor(){}ngOnInit(){}toNebularStatus(t){switch(t){case"INFO":return"basic";case"WARN":return"warning";case"ERROR":case"FATAL":return"danger";default:return"basic"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ngx-log"]],inputs:{log:"log"},decls:8,vars:4,consts:[[3,"status"],[1,"px-4"]],template:function(t,e){1&t&&(i.Ub(0,"nb-alert",0),i.Ub(1,"div"),i.Ub(2,"span",1),i.Ec(3),i.Tb(),i.Ub(4,"span",1),i.Ec(5),i.Tb(),i.Ub(6,"span",1),i.Ec(7),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.lc("status",e.toNebularStatus(e.log.status)),i.Cb(3),i.Fc(e.log.date),i.Cb(2),i.Fc(e.log.status),i.Cb(2),i.Fc(e.log.message))},directives:[b.i],styles:["[_nghost-%COMP%]{width:100%;margin:0}"]}),t})();function u(t,e){if(1&t&&(i.Ub(0,"nb-list-item",3),i.Pb(1,"ngx-log",4),i.Tb()),2&t){const t=e.$implicit;i.Cb(1),i.lc("log",t)}}function p(t,e){1&t&&(i.Ub(0,"nb-list-item",5),i.Ec(1," Cargando... "),i.Tb())}let g=(()=>{class t{constructor(t){this.adminService=t,this.firstCard={logs:[],placeholders:[],loading:!1,pageToLoadNext:0},this.pageSize=5}loadNext(t){t.loading||(t.loading=!0,t.placeholders=new Array(this.pageSize),this.adminService.getLogs(t.pageToLoadNext,this.pageSize,!1).subscribe(e=>{t.placeholders=[],t.logs.push(...e.content),t.loading=!1,t.pageToLoadNext++}))}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(l))},t.\u0275cmp=i.Ib({type:t,selectors:[["ngx-logs"]],decls:7,vars:3,consts:[["nbInfiniteList","",3,"threshold","bottomThreshold"],["class","p-0",4,"ngFor","ngForOf"],["nbSpinner","true",4,"ngFor","ngForOf"],[1,"p-0"],[3,"log"],["nbSpinner","true"]],template:function(t,e){1&t&&(i.Ub(0,"nb-card"),i.Ub(1,"nb-card-header"),i.Ec(2,"Logs"),i.Tb(),i.Ub(3,"nb-card-body"),i.Ub(4,"nb-list",0),i.bc("bottomThreshold",(function(){return e.loadNext(e.firstCard)})),i.Cc(5,u,2,1,"nb-list-item",1),i.Cc(6,p,2,0,"nb-list-item",2),i.Tb(),i.Tb(),i.Tb()),2&t&&(i.Cb(4),i.lc("threshold",500),i.Cb(1),i.lc("ngForOf",e.firstCard.logs),i.Cb(1),i.lc("ngForOf",e.firstCard.placeholders))},directives:[b.n,b.o,b.m,b.M,b.E,s.l,b.N,d,b.cb],styles:["nb-list[_ngcontent-%COMP%]{max-height:500px}"]}),t})();const f=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Ib({type:t,selectors:[["ngx-admin"]],decls:1,vars:0,template:function(t,e){1&t&&i.Pb(0,"router-outlet")},directives:[o.h],encapsulation:2}),t})(),children:[{path:"logs",component:g},{path:"**",component:r.a}]}];let h=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},imports:[[o.g.forChild(f)],o.g]}),t})(),m=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[b.lb,l],imports:[[s.c,h,b.p,b.mb,b.G,b.O,b.D,b.db,b.j]]}),t})()}}]);